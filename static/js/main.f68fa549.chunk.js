(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(t,e,n){t.exports=n(55)},31:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},55:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),i=n(4),c=n.n(i),r=(n(29),n(30),n(31),n(6),n(2)),l=n(8),s=Object(a.createContext)(),u=n(9),d=n(21),v=n(22),g=n.n(v);var m=function(t){return o.a.createElement("div",{className:"pin"},o.a.createElement(d.Icon,{icon:g.a,className:"pin-icon",width:25,height:41,color:"green"}))};n(34);var h=function(t){var e=t.location,n=t.zoom,a=t.treePlantingActivities;return o.a.createElement("div",{style:{height:"100vh",width:"100%"}},o.a.createElement(u.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:"/sitematching-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).GOOGLE_MAP_API_KEY},defaultCenter:e,defaultZoom:n},null!==a&&a.map((function(t,e){t.Latitude,t.Longitude;return o.a.createElement(m,{key:e,lat:t.Latitude,lng:t.Longitude,text:"marker"})}))))},f=(n(35),n(7)),p=n.n(f);p.a.defaults.baseURL="https://sitematching.herokuapp.com/api/v1";var E=function(t){var e=Object(a.useContext)(s),n=e.treePlantingActivities,i=e.loading,c=(e.filteredActivities,e.loadTreePlantingActivites),u=Object(a.useState)({location:{lat:59.95,lng:30.33},zoom:10,hasUserLocation:!1,userMessage:{name:"",message:""}}),d=Object(l.a)(u,2),v=d[0],g=d[1];v.location.lat,v.location.lng;Object(a.useEffect)((function(){c(),navigator.geolocation.getCurrentPosition((function(t){g(Object(r.a)(Object(r.a)({},v),{},{location:{lat:t.coords.latitude,lng:t.coords.longitude},hasUserLocation:!0,zoom:8}))}),(function(){console.log("uh..oh, no location provided"),fetch("https://ipapi.co/json").then((function(t){return t.json()})).then((function(t){g({location:{lat:t.latitude,lng:t.longitude},hasUserLocation:!0,zoom:5})})).catch((function(t){return console.log(t)}))}))}),[]),null===n||i||console.log(n,"=============");return o.a.createElement(o.a.Fragment,null,v.hasUserLocation?o.a.createElement(h,{location:v.location,zoom:v.zoom,treePlantingActivities:n}):o.a.createElement("p",null," please allow location access "))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=n(10),O=n.n(A),b=n(23),T=function(t,e){switch(e.type){case"LOAD_TREE_PLANTING_ACTIVITIES":return Object(r.a)(Object(r.a)({},t),{},{treePlantingActivities:e.payload,loading:!1});case"SET_CURRENT":return Object(r.a)(Object(r.a)({},t),{},{currentActivity:e.payload});case"CLEAR_CURRENT":return Object(r.a)(Object(r.a)({},t),{},{currentActivity:null});default:return t}},_=function(t){var e=Object(a.useReducer)(T,{treePlantingActivities:null,filteredActivities:null,currentActivity:null,loading:!1,error:null}),n=Object(l.a)(e,2),i=n[0],c=n[1],r=function(){var t=Object(b.a)(O.a.mark((function t(){var e;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/locations");case 3:e=t.sent,c({type:"LOAD_TREE_PLANTING_ACTIVITIES",payload:e.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),c({type:"TREE_PLANTING_ERROR",payload:t.t0.response.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return o.a.createElement(s.Provider,{value:{treePlantingActivities:i.treePlantingActivities,filteredActivities:i.filteredActivities,currentActivity:i.currentActivity,loading:i.loading,error:i.error,loadTreePlantingActivites:r}},t.children)};c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(_,null,o.a.createElement(E,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.f68fa549.chunk.js.map